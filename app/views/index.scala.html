@(evaluaciones: List[Evaluacion])
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Heroshi</title>

    <!-- Bootstrap Core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="/assets/css/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="/assets/css/plugins/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/assets/css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <!--<link href="/assets/css/plugins/morris.css" rel="stylesheet">-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">

    <!-- Custom Fonts -->
    <link href="/assets/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Javascript Routing -->
    <script type="text/javascript" src='@routes.Procesos.javascriptRoutes()'></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

        @navigation()

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">
                    <i class="fa fa-dashboard fa-fw"></i>
                    Menú Principal</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <p class="lead">Inicie aquí, eligiendo un tipo de evaluación:</p>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-3 col-md-6">

                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="glyphicon glyphicon-lock fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="h3">Gestión del Catálogo de Servicios</div>
                                </div>
                            </div>
                        </div>
                        <a href="/gcs_previo">
                            <div class="panel-footer">
                                <span class="pull-left"><b>Comenzar nueva evaluación...</b></span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-green">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-tasks fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="h3">Gestión del Nivel de Servicio</div>
                                </div>
                            </div>
                        </div>
                        <a href="/gns_previo">
                            <div class="panel-footer">
                                <span class="pull-left"><b>Comenzar nueva evaluación...</b></span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-red">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="glyphicon glyphicon-flag fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="h3">Gestión de Incidentes</div>
                                </div>
                            </div>
                        </div>
                        <a href="/gin_previo">
                            <div class="panel-footer">
                                <span class="pull-left"><b>Comenzar nueva evaluación...</b></span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-disabled">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="glyphicon glyphicon-road fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="h3">Gestión de la Continuidad</div>
                                </div>
                            </div>
                        </div>
                        <a href="#">
                            <div class="panel-footer">
                                <span class="pull-left"><b>Evaluación no disponible</b></span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <legend></legend>
            <p class="lead">Aquí puede ver el progreso de sus evaluaciones:</p>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Progreso de Evaluaciones
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">Action</a>
                                        </li>
                                        <li><a href="#">Another action</a>
                                        </li>
                                        <li><a href="#">Something else here</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- GRAFICO DE AREA: PROGRESO DE EVALUACIONES -->
                        <div class="panel-body">
                            <div id="progreso"></div>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Evaluaciones Recientes
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">Action</a>
                                        </li>
                                        <li><a href="#">Another action</a>
                                        </li>
                                        <li><a href="#">Something else here</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-8">
                        @if(evaluaciones.isEmpty()){
                            <p><i class="glyphicon glyphicon-comment"></i><i> No tienes registrado ninguna evaluación.</i><p>
                            }else{
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-hover table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Código</th>
                                                    <th>Tipo</th>
                                                    <th>Puntaje (%)</th>
                                                    <th>Fecha</th>
                                                    <th>Resultado</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @for(evaluacion <- evaluaciones){
                                                <tr>
                                                    <td>@evaluacion.getId()</a></td>
                                                    <td>@evaluacion.getTipo()</td>

                                                @if(evaluacion.getMetricas_gcs() != null){
                                                    <td>@evaluacion.getMetricas_gcs().getTotal()</td>
                                                    }
                                                @if(evaluacion.getMetricas_gns() != null){
                                                    <td>@evaluacion.getMetricas_gns().getTotal()</td>
                                                    }
                                                @if(evaluacion.getMetricas_gin() != null){
                                                    <td>@evaluacion.getMetricas_gin().getTotal()</td>
                                                    }

                                                    <td>@evaluacion.getDueDate().format("dd-MMM-yyyy, HH:mm")</td>

                                                @if(evaluacion.getMetricas_gcs() != null){
                                                    <td><a href="/evaluacion/@evaluacion.getId()">Mostrar</a></td>
                                                    }
                                                @if(evaluacion.getMetricas_gns() != null){
                                                    <td><a href="/evaluacion/@evaluacion.getId()">Mostrar</a></td>
                                                    }
                                                @if(evaluacion.getMetricas_gin() != null){
                                                    <td><a href="/evaluacion/@evaluacion.getId()">Mostrar</a></td>
                                                    }
                                                
                                                </tr>
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- /.table-responsive -->
                                }
                                </div>
                                <!-- /.col-lg-4 (nested) -->
                                <div class="col-lg-8">
                                    <div id="morris-bar-chart"></div>
                                </div>
                                <!-- /.col-lg-8 (nested) -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    
                </div>
                <!-- /.col-lg-8 -->
                <div class="col-lg-4">
                    
                    <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Distribución de Evaluaciones Realizadas
                        </div>
                        <div class="panel-body">
                            <div id="distribucion"></div>
                            <a href="/evaluaciones" class="btn btn-default btn-block">Ver detalles</a>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                    
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    @footer()

    <!-- jQuery Version 1.11.0 -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/assets/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="/assets/js/plugins/metisMenu/metisMenu.min.js"></script>

    <!-- Morris Charts JavaScript -->
    <!--<script src="/assets/js/plugins/morris/raphael.min.js"></script>
    <script src="/assets/js/plugins/morris/morris.min.js"></script>-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/assets/js/sb-admin-2.js"></script>

    <script>
    // Create a function that will handle AJAX requests
    $(document).ready(function(){
    $.ajax({
          type: "GET",
          dataType: 'json',
          url: "@routes.Procesos.getProgresoEvaluaciones()" // This is the URL to the API
        })
        .done(function( data ) {
          console.log($("#progreso")); 
          // When the response to the AJAX request comes back render the chart with new data
                Morris.Area({
                    element: 'progreso',
                    data: data,
                    xkey: 'evaluacion',
                    ykeys: ['gcs', 'gns', 'gin'],
                    labels: ['G. Catalogo de Servicios', 'G. Nivel del Servicio', 'G. Incidentes'],
                    pointSize: 2,
                    hideHover: 'auto',
                    lineColors: ['#0066FF','#33AD5C','#FF5050'],
                    resize: true
                });
        })
        .fail(function() {
          // If there is no communication between the server, show an error
          console.error(error);
          alert( "Ocurrio un error" );
        })

    $.ajax({
          type: "GET",
          dataType: 'json',
          url: "@routes.Procesos.getDistribucionEvaluaciones()" // This is the URL to the API
        })
        .done(function( data ) {
          console.log($("#distribucion")); 
          // When the response to the AJAX request comes back render the chart with new data
                Morris.Donut({
                    element: 'distribucion',
                    data: data,
                    colors: ['#0066FF','#33AD5C','#E62E2E'],
                    resize: true
                });
        })
        .fail(function() {
          // If there is no communication between the server, show an error
          console.error(error);
          alert( "Ocurrio un error" );
        })
    });
    </script>

</body>

</html>
